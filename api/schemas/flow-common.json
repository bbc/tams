{
    "type": "object",
    "description": "Describes the the core fields of a Flow (common properties to all Flows, imported by flow-get and flow-put specifications)",
    "title": "Flow Common",
    "required": 
    [
        "id",
        "source_id"
    ],
    "properties": 
    {
        "id": 
        {
            "description": "Flow identifier",
            "$ref": "uuid.json"
        },
        "source_id": 
        {
            "description": "Source identifier",
            "$ref": "uuid.json"
        },
        "label": 
        {
            "description": "Freeform string label for the Flow. This should be a very short, human-readable label that may be displayed in listings of Flows.",
            "type": "string"
        },
        "description": 
        {
            "description": "Freeform text describing the Flow. This should be a human-readable description that may be showed in detailed views of Flows. The description should be longer and more detailed than `label`.",
            "type": "string"
        },
        "created_by": 
        {
            "description": "A string identifier for the entity that created the Flow. Service implementations SHOULD set suitable default values for `created_by` based on the principal accessing the system, and MAY permit clients to edit the value, subject to suitable permissions-based limitations.",
            "type": "string"
        },
        "updated_by": 
        {
            "description": "A string identifier for the entity that updated the Flow metadata most recently. Service implementations SHOULD set suitable default values for `updated_by` based on the principal accessing the system, and MAY permit clients to edit the value, subject to suitable permissions-based limitations.",
            "type": "string"
        },
        "tags": 
        {
            "description": "Key value is a freeform string. WARNING: When updating a Flow with `tags` set, `tags` will be replaced with the provided dictionary. `tags` WILL NOT be merged with the provided values. When `tags` is not set in the request, `tags` will be unset (i.e. set to `{}`). To update individual tags, clients should use the [Create or Update Flow Tag](#/operations/PUT_flows-flowId-tags-name) endpoint.",
            "$ref": "tags.json"
        },
        "metadata_version": 
        {
            "description": "A change to the Flow metadata, not including metadata_version, metadata_updated, segments_updated or Segments, results in a new version. If the metadata_version for Flow instances is identical then the metadata is identical. Service implementations SHOULD set suitable default values for `metadata_version` whenever Flow metadata is changed and `metadata_version` is either not set by the client, or set to it's existing value. Service implementations MAY permit clients to edit the value, subject to suitable permissions-based limitations. Where media is transfered between TAMS service instances without changing the Flow metadata, clients SHOULD maintain the `metadata_version`. To support this, service implementations SHOULD always accept the setting of `metadata_version` by the client on initial Flow creation. Service implementations SHOULD update this field where metadata is updated via child endpoints. Note that this specification places no requirements on incremental versioning. Service implementations may, for example, choose to use hashes or date-time version identifiers.",
            "type": "string"
        },
        "generation": 
        {
            "description": "An indication of how many lossy encodings the Flow content has been through. This parameter provides a hint to clients as to which is the \"highest qualty\" Flow available to them. A Flow with a higher generation may contain less of the original information than a flow with a lower generation. Where a Flow is captured straight from the orginating device (e.g. camera/microphone) in its highest quality, and there is no possibility of the content becoming available in a higher quality (e.g. via capture from ST2110 or SDI), it SHOULD have a `generation` of `0`. Where the originating device outputs multiple qualities of the Source, `generation` should represent the encoding processes each has been through as accurately as possible.",
            "type": "integer",
            "minimum": 0
        },
        "created": 
        {
            "description": "The date-time the Flow was created in a given context, e.g. in the service instance. Service implementations SHOULD ignore this if given in a PUT request, and instead manage it internally",
            "type": "string",
            "format": "date-time"
        },
        "metadata_updated": 
        {
            "description": "The date-time the Flow metadata was updated in a given context, e.g. in the service instance. Service implementations SHOULD ignore this if given in a PUT request, and instead manage it internally",
            "type": "string",
            "format": "date-time"
        },
        "segments_updated": 
        {
            "description": "The date-time the Flow Segments were updated in a given context, e.g. in the service instance. Service implementations SHOULD ignore this if given in a PUT request, and instead manage it internally",
            "type": "string",
            "format": "date-time"
        },
        "read_only": 
        {
            "description": "If set to 'true', service implementations SHOULD reject client requests to update Flow metadata (other than the read_only property), and Flow Segments. Service implementations should also reject requests to the [`/flows/{flowId}/storage`](#/operations/POST_flows-flowId-storage) endpoint for the Flow, and requests to delete the Flow.",
            "type": "boolean"
        },
        "timerange": 
        {
            "description": "The timerange of samples available in the Flow, as described by the [TimeRange](../schemas/timerange#top) type. Service implementations MUST ignore this if given in a PUT request, and instead manage it internally.",
            "$ref": "timerange.json"
        },
        "flow_collection": 
        {
            "description": "List of Flows that are collected together by this Flow.",
            "$ref": "flow-collection.json"
        },
        "collected_by": 
        {
            "type": "array",
            "description": "Flows that reference this Flow to include it in a collection. This attribute is intended to be read-only. Service implementations SHOULD ignore this if given in a PUT request, and instead manage it internally",
            "items":
            {
                "$ref": "uuid.json"
            }
        }
    }
}