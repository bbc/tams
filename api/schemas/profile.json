{
  "type": "object",
  "description": "Describes a Profile",
  "title": "Profile",
  "required": [
    "id",
    "flow_metadata"
  ],
  "properties": {
    "id": {
      "description": "Profile identifier.",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "urn": {
      "description": "Namespaced identifier to the profile.  Centrally managed profiles will be prefixed with 'urn:x-tam:profile:'.  This MUST not be used for locally created profiles",
      "type": "string",
      "pattern": "^urn:[A-Za-z0-9][A-Za-z0-9-]{0,31}:profile:[a-z0-9()+,\\-.:=@;$_!*'%?#]*[a-z0-9+=@$]"
    },
    "label": {
      "description": "Freeform string label for the profile",
      "type": "string"
    },
    "description": {
      "description": "Freeform text describing the profile",
      "type": "string"
    },
    "created_by": {
      "description": "A string identifier for the entity that created the profile. Implementations SHOULD set suitable default values for `created_by` based on the principal accessing the system, and MAY permit clients to edit the value, subject to suitable permissions-based limitations.",
      "type": "string"
    },
   "created": {
      "description": "The date-time the profile was created in a given context, e.g. in the store. Implementations SHOULD ignore this if given in a PUT request, and instead manage it internally",
      "type": "string",
      "format": "date-time"
    },
    "tags": {
      "$ref": "tags.json"
    },

    "flow_metadata": {
      "description": "The technical characteristics of the profile.  This section will be mapped directly to all flows created using this profile.",
      "type": "object",
      "oneOf": [
        { "$ref": "flow-video.json" },
        { "$ref": "flow-audio.json" },
        { "$ref": "flow-image.json" },
        { "$ref": "flow-data.json" },
        { "$ref": "flow-multi.json" }
      ]
    }
  }
}