{
  "type": "object",
  "description": "Describes the technical characteristics of a Flow (common properties to all Flows, imported by type-specific specifications)",
  "title": "Flow Core",
  "properties": {

    "codec": {
      "description": "A MIME type identification of the (lossy or lossless) coding used for the flow content.",
      "type": "string",
      "pattern": "^[^\\s\/]+/[^\\s\/]+$"
    },
    "container": {
      "description": "The container MIME type for flow segments.",
      "type": "string",
      "pattern": "^[^\\s\/]+/[^\\s\/]+$"
    },
    "avg_bit_rate": {
      "description": "The average bit rate of the flow segments in 1000 bits/second. A precise definition can be found in the [Setting Flow Bit Rate Properties](https://github.com/bbc/tams/blob/main/docs/appnotes/0013-setting-flow-bit-rate-properties.md) AppNote.",
      "type": "integer",
      "minimum": 0
    },
    "max_bit_rate": {
      "description": "The maximum bit rate of the flow segments in 1000 bits/second. A precise definition can be found in the [Setting Flow Bit Rate Properties](https://github.com/bbc/tams/blob/main/docs/appnotes/0013-setting-flow-bit-rate-properties.md) AppNote.",
      "type": "integer",
      "minimum": 0
    },
    "segment_duration": {
      "description": "The target flow segment duration in seconds. The duration for each segment may vary around this target value. See also the [Setting Flow Bit Rate Properties](https://github.com/bbc/tams/blob/main/docs/appnotes/0013-setting-flow-bit-rate-properties.md) AppNote for how this property can be used to calculate buffer sizes.",
      "type": "object",
      "required": [
          "numerator"
      ],
      "properties": {
          "numerator": {
              "description": "numerator",
              "type": "integer",
              "exclusiveMinimum": 0
          },
          "denominator": {
              "description": "denominator",
              "type": "integer",
              "default": 1,
              "exclusiveMinimum": 0
          }
      }
    },

    "container_mapping": {
        "description": "Describes the mapping of the Flow essence from the this Flow's container",
        "$ref": "container-mapping.json"
    }
  }
}
