{
    "title": "Storage Allocation",
    "description": "Gives information on storage for Media Objects. This schema is for the `http_object_store` Storage Backend type which provides URLs for storing Media Objects in object store buckets, and is the only Storage Backend type currently implemented. It may also be used for other HTTP-based storage backends which use a compatible pattern of PUT and GET requests.",
    "type": "object",
    "properties":
    {
        "pre":
        {
            "description": "Actions that need to be taken before the Media Object can be written",
            "type": "array",
            "items":
            {
                "description": "An action",
                "type": "object",
                "required":
                [
                    "action"
                ],
                "properties":
                {
                    "action":
                    {
                        "type": "string",
                        "enum":
                        [
                            "create_bucket"
                        ]
                    },
                    "bucket_id":
                    {
                        "description": "The name of the bucket that needs to be created",
                        "type": "string"
                    },
                    "put_url":
                    {
                        "$ref": "http-request.json"
                    },
                    "put_cors_url":
                    {
                        "$ref": "http-request.json"
                    }
                }
            }
        },
        "media_objects":
        {
            "description": "List of information for identifying and uploading Media Objects",
            "type": "array",
            "items":
            {
                "description": "Information for a Media Object",
                "type": "object",
                "required":
                [
                    "object_id",
                    "put_url"
                ],
                "properties":
                {
                    "object_id":
                    {
                        "description": "The Object identifier for the Media Object.",
                        "type": "string"
                    },
                    "put_url":
                    {
                        "$ref": "http-request.json"
                    },
                    "put_cors_url":
                    {
                        "$ref": "http-request.json"
                    }
                }
            }
        }
    },
    "additionalProperties": false
}